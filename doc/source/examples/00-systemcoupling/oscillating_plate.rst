
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples\00-systemcoupling\oscillating_plate.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_examples_00-systemcoupling_oscillating_plate.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_00-systemcoupling_oscillating_plate.py:

.. _ref_oscillating_plate_example:

Oscillating Plate tutorial case
-------------------------------

This example is a version of the `Oscillating Plate` case, which is
often used as an introductory tutorial case for System Coupling. It
is a two-way fluid-structural interaction (FSI) case, based on transient
oscillating plate co-simulation with 2D data transfers.

In this version, MAPDL performs a transient-structural analysis and
Fluent performs a transient fluid-flow analysis, while System Coupling
coordinates the simultaneous execution of the solvers and the data
transfers between their coupled surface regions.

Problem description
~~~~~~~~~~~~~~~~~~~

This tutorial uses an example of an oscillating plate within a
fluid-filled cavity. A thin plate is anchored to the bottom of
a closed cavity filled with fluid (air), as shown in the image below.

There is no friction between the plate and the side of the cavity. An
initial pressure of 100 Pa is applied to one side of the thin plate
for 0.5 s to distort it. Once this pressure is released, the plate
oscillates back and forth to regain its equilibrium, and the
surrounding air damps this oscillation. The plate and surrounding
air are simulated for a few oscillations to allow an examination of the
motion of the plate as it is damped.

.. image:: /_static/img_oscplate_case.png
   :width: 400pt
   :align: center

.. GENERATED FROM PYTHON SOURCE LINES 36-39

.. code-block:: default


    # sphinx_gallery_thumbnail_path = '_static/oscplate_displacement.png'








.. GENERATED FROM PYTHON SOURCE LINES 40-47

Example Setup
-------------

Perform required imports
~~~~~~~~~~~~~~~~~~~~~~~~
Import the PySystemCoupling package and other required imports, and download
the input files for this example.

.. GENERATED FROM PYTHON SOURCE LINES 47-53

.. code-block:: default


    import os
    from pprint import pprint
    import ansys.systemcoupling.core as pysystemcoupling
    from ansys.systemcoupling.core import examples








.. GENERATED FROM PYTHON SOURCE LINES 54-62

Download the input files for this example
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Clear the downloads target directory (which we are going to use as our
working directory). Download the "SCP" files for Fluent and MAPDL, which
provide solver-specifc  information to System Coupling, and the respective
solver input files for each solver run.


.. GENERATED FROM PYTHON SOURCE LINES 63-82

.. code-block:: default


    examples.delete_downloads()

    mapdl_scp_file = examples.download_file(
        "mapdl.scp", "pysystem-coupling/oscillating_plate"
    )

    fluent_scp_file = examples.download_file(
        "fluent.scp", "pysystem-coupling/oscillating_plate"
    )

    mapdl_dat_file = examples.download_file(
        "mapdl.dat", "pysystem-coupling/oscillating_plate/MAPDL"
    )

    fluent_cas_file = examples.download_file(
        "plate.cas.gz", "pysystem-coupling/oscillating_plate/Fluent"
    )








.. GENERATED FROM PYTHON SOURCE LINES 83-90

Prepare the expected directory structure
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
We will use the target download directory as our working directory.
The SCP files are defined such that there is expected to be a Fluent
sub-directory in which Fluent runs, and an MAPDL sub-directory in
which MAPDL runs. These directories should contain their respective
input/case files.

.. GENERATED FROM PYTHON SOURCE LINES 91-102

.. code-block:: default


    working_dir = os.path.dirname(mapdl_scp_file)

    fluent_working_dir = os.path.join(working_dir, "Fluent")
    os.mkdir(fluent_working_dir)
    mapdl_working_dir = os.path.join(working_dir, "MAPDL")
    os.mkdir(mapdl_working_dir)

    os.rename(fluent_cas_file, os.path.join(fluent_working_dir, "plate.cas.gz"))
    os.rename(mapdl_dat_file, os.path.join(mapdl_working_dir, "mapdl.dat"))








.. GENERATED FROM PYTHON SOURCE LINES 103-108

Launch System Coupling
~~~~~~~~~~~~~~~~~~~~~~
Launch a remote System Coupling instance and return a "client" object
(a ``Session`` object) that allows us to interact with System Coupling
via an API exposed into the current Python environment.

.. GENERATED FROM PYTHON SOURCE LINES 109-112

.. code-block:: default


    syc = pysystemcoupling.launch(working_dir=working_dir)








.. GENERATED FROM PYTHON SOURCE LINES 113-117

Create analysis
~~~~~~~~~~~~~~~

Access the `setup` API:

.. GENERATED FROM PYTHON SOURCE LINES 117-120

.. code-block:: default

    setup = syc.setup









.. GENERATED FROM PYTHON SOURCE LINES 121-127

Load participants
^^^^^^^^^^^^^^^^^
Use ``add_participant`` to create ``coupling_participant`` objects
representing the Fluent and MAPDL participants, based on the data
in the `scp` files that were previously exported by the respective
products.

.. GENERATED FROM PYTHON SOURCE LINES 127-130

.. code-block:: default

    setup.add_participant(input_file="mapdl.scp")
    setup.add_participant(input_file="fluent.scp")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    'FLUENT-2'



.. GENERATED FROM PYTHON SOURCE LINES 131-132

Verify that the ``coupling_participant`` objects now exist:

.. GENERATED FROM PYTHON SOURCE LINES 132-134

.. code-block:: default

    setup.coupling_participant.keys()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    dict_keys(['MAPDL-1', 'FLUENT-2'])



.. GENERATED FROM PYTHON SOURCE LINES 135-143

Create interfaces and data transfers by specifying participant regions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`Note`: instead of direct datamodel assignment, we could have used
the command ``setup.add_interface(...)``. This would have been
closer to the original tutorial and is usually the recommended
approach. However, the following provides
an illustration of creating a datamodel object directly via the
PySystemCoupling API.

.. GENERATED FROM PYTHON SOURCE LINES 143-166

.. code-block:: default


    interface_name = "interface-1"
    interface = setup.coupling_interface.create(interface_name)
    interface.side["One"].coupling_participant = "MAPDL-1"
    interface.side["One"].region_list = ["FSIN_1"]
    interface.side["Two"].coupling_participant = "FLUENT-2"
    interface.side["Two"].region_list = ["wall_deforming"]

    # Use commands to add data transfers
    force_transfer_name = setup.add_data_transfer(
        interface=interface_name,
        target_side="One",
        side_one_variable="FORC",
        side_two_variable="force",
    )

    disp_transfer_name = setup.add_data_transfer(
        interface=interface_name,
        target_side="Two",
        side_one_variable="INCD",
        side_two_variable="displacement",
    )








.. GENERATED FROM PYTHON SOURCE LINES 167-170

Verify creation of interface and data transfers
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Coupling interface exists:

.. GENERATED FROM PYTHON SOURCE LINES 170-172

.. code-block:: default

    setup.coupling_interface.keys()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    dict_keys(['interface-1'])



.. GENERATED FROM PYTHON SOURCE LINES 173-175

Coupling interface state. Note the "FORC" and "displacement"
``data_transfer`` child objects:

.. GENERATED FROM PYTHON SOURCE LINES 175-178

.. code-block:: default

    setup.coupling_interface[interface_name].print_state()






.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    data_transfer : 
      displacement : 
        target_variable : displacement
        suppress : False
        display_name : displacement
        ramping_option : None
        mapping_type : ProfilePreserving
        target_side : Two
        unmapped_value_option : Nearest Value
        relaxation_factor : 1.0
        option : UsingVariable
        source_variable : INCD
        convergence_target : 0.01
      FORC : 
        convergence_target : 0.01
        target_variable : FORC
        target_side : One
        relaxation_factor : 1.0
        option : UsingVariable
        suppress : False
        mapping_type : Conservative
        display_name : Force
        source_variable : force
        ramping_option : None
    side : 
      One : 
        coupling_participant : MAPDL-1
        instancing : None
        region_list : 
          0 : FSIN_1
        reference_frame : GlobalReferenceFrame
      Two : 
        reference_frame : GlobalReferenceFrame
        region_list : 
          0 : wall_deforming
        coupling_participant : FLUENT-2
        instancing : None
    mapping_control : 
      poor_intersection_threshold : 0.5
      face_alignment : ProgramControlled
      absolute_gap_tolerance : 0.0 [m]
      stop_if_poor_intersection : True
      relative_gap_tolerance : 1.0
    display_name : interface-1




.. GENERATED FROM PYTHON SOURCE LINES 179-189

Query for any current setup errors
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
A coupled analysis setup cannot be solved if there
are any errors. Errors are indicated by messages with
``level`` field set to ``Error``. Here, it is seen that
there are two missing settings that need to be corrected.
There is also an ``Information`` level message that
advises that, once the current setup is solved, it will
not be possible to restart it from any point except the
last step.

.. GENERATED FROM PYTHON SOURCE LINES 189-192

.. code-block:: default


    pprint(setup.get_status_messages())





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    [{'level': 'Information',
      'message': "The 'OutputControl' option is LastStep. To enable restarts from "
                 'intermediate steps, please use a different option.',
      'path': 'output_control'},
     {'level': 'Error',
      'message': 'TimeStepSize not defined for Transient analysis',
      'path': 'solution_control'},
     {'level': 'Error',
      'message': 'EndTime not defined for Transient analysis',
      'path': 'solution_control'}]




.. GENERATED FROM PYTHON SOURCE LINES 193-203

.. note::
   In the current release of PySystemCoupling, ``get_status_messages``
   provides messages generated by System Coupling using its native
   terminology. This means that any settings identifiers that are
   mentioned in messages will be in System Coupling's usual `camel case` format.

   In most cases, it should be obvious how to translate to the
   corresponding PySystemCoupling setting. For example ``EndTime``
   in System Coupling's ``OutputControl`` object corresponds to the
   PySystemCoupling ``output_control.end_time`` setting.

.. GENERATED FROM PYTHON SOURCE LINES 205-213

Modify settings
^^^^^^^^^^^^^^^

View contents of `solution_control`. Notice that
``time_step_size`` and ``end_time`` are unset,
consistent with what was shown in the status messages.
Values shown in the ``print_state`` output as ``<None>``
actually have Python values of ``None``.

.. GENERATED FROM PYTHON SOURCE LINES 213-216

.. code-block:: default

    setup.solution_control.print_state()






.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    time_step_size : <None>
    minimum_iterations : 1
    maximum_iterations : 5
    duration_option : EndTime
    end_time : <None>




.. GENERATED FROM PYTHON SOURCE LINES 217-218

Change `time_step_size` setting:

.. GENERATED FROM PYTHON SOURCE LINES 218-220

.. code-block:: default

    setup.solution_control.time_step_size = "0.1 [s]"








.. GENERATED FROM PYTHON SOURCE LINES 221-222

Verify setting:

.. GENERATED FROM PYTHON SOURCE LINES 222-224

.. code-block:: default

    setup.solution_control.time_step_size





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    '0.1 [s]'



.. GENERATED FROM PYTHON SOURCE LINES 225-226

Change `end_time`:

.. GENERATED FROM PYTHON SOURCE LINES 226-228

.. code-block:: default

    setup.solution_control.end_time = "1.0 [s]"








.. GENERATED FROM PYTHON SOURCE LINES 229-230

View `output_control`:

.. GENERATED FROM PYTHON SOURCE LINES 230-232

.. code-block:: default

    setup.output_control.print_state()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    option : LastStep
    write_initial_snapshot : True
    generate_csv_chart_output : False
    results : 
      option : ProgramControlled
      include_instances : ProgramControlled
      type : 
        option : EnsightGold




.. GENERATED FROM PYTHON SOURCE LINES 233-234

Set `option` in `output_control`. First, see valid options:

.. GENERATED FROM PYTHON SOURCE LINES 234-236

.. code-block:: default

    setup.output_control.get_property_options("option")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    ['LastStep', 'EveryStep', 'StepInterval']



.. GENERATED FROM PYTHON SOURCE LINES 237-238

Set output option:

.. GENERATED FROM PYTHON SOURCE LINES 238-240

.. code-block:: default

    setup.output_control.option = "StepInterval"








.. GENERATED FROM PYTHON SOURCE LINES 241-242

View `output_control` again:

.. GENERATED FROM PYTHON SOURCE LINES 242-247

.. code-block:: default

    setup.output_control.print_state()

    # Change `output_frequency`:
    setup.output_control.output_frequency = 2





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    output_frequency : 1
    option : StepInterval
    write_initial_snapshot : True
    generate_csv_chart_output : False
    results : 
      include_instances : ProgramControlled
      type : 
        option : EnsightGold
      option : ProgramControlled




.. GENERATED FROM PYTHON SOURCE LINES 248-252

Review setup
~~~~~~~~~~~~

Verify that there are no longer any setup errors:

.. GENERATED FROM PYTHON SOURCE LINES 252-255

.. code-block:: default

    pprint(setup.get_status_messages())






.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    []




.. GENERATED FROM PYTHON SOURCE LINES 256-260

``get_setup_summary`` returns a string showing a summary of
the coupled analysis setup. This will also be shown in the
transcript output when the solve is started, but it can
be useful to review this before starting the solve.

.. GENERATED FROM PYTHON SOURCE LINES 260-263

.. code-block:: default

    print(setup.get_setup_summary())






.. rst-class:: sphx-glr-script-out

 .. code-block:: none



    ===============================================================================
    +=============================================================================+
    |                                                                             |
    |                          Summary of Coupling Setup                          |
    |                                                                             |
    +=============================================================================+
    ===============================================================================

    +=============================================================================+
    |                          Coupling Participants (2)                          |
    +=============================================================================+
    |                                                                             |
    | Participant: Fluid Flow (Fluent)                                            |
    |    Type :                                                            FLUENT |
    |    UpdateControls:                                                          |
    |       Option :                                            ProgramControlled |
    |    Region: part-fluid                                                       |
    |       Topology :                                                     Volume |
    |    Region: wall_bottom                                                      |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Region: wall_deforming                                                   |
    |       Topology :                                                    Surface |
    |       Input Variables :                                        displacement |
    |       Output Variables :                                              force |
    |    Region: wall_inlet                                                       |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Region: wall_outlet                                                      |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Region: wall_top                                                         |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Variable: displacement                                                   |
    |       Quantity Type :                              Incremental Displacement |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                  False |
    |       Data Type :                                                      Real |
    |    Variable: force                                                          |
    |       Quantity Type :                                                 Force |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                   True |
    |       Data Type :                                                      Real |
    |                                                                             |
    +-----------------------------------------------------------------------------+
    |                                                                             |
    | Participant: MAPDL Transient                                                |
    |    Type :                                                             MAPDL |
    |    UpdateControls:                                                          |
    |       Option :                                            ProgramControlled |
    |    Region: FSIN_1_Fluid Solid Interface                                     |
    |       Topology :                                                    Surface |
    |       Input Variables :                                               Force |
    |       Output Variables :                           Incremental_Displacement |
    |    Variable: Force                                                          |
    |       Quantity Type :                                                 Force |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                   True |
    |       Data Type :                                                      Real |
    |    Variable: Incremental_Displacement                                       |
    |       Quantity Type :                              Incremental Displacement |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                  False |
    |       Data Type :                                                      Real |
    |                                                                             |
    +=============================================================================+
    |                              Analysis Control                               |
    +=============================================================================+
    |                                                                             |
    | Analysis Type :                                                   Transient |
    | Global Stabilization :                                                 None |
    | OptimizeIfOneWay :                                                     True |
    | AllowSimultaneousUpdate :                                             False |
    | PartitioningAlgorithm :                              SharedAllocateMachines |
    |                                                                             |
    +=============================================================================+
    |                           Coupling Interfaces (1)                           |
    +=============================================================================+
    |                                                                             |
    | Interface: interface-1                                                      |
    |    Side: One                                                                |
    |       Coupling Participant :                                MAPDL Transient |
    |       Region List :                            FSIN_1_Fluid Solid Interface |
    |       Reference Frame :                                GlobalReferenceFrame |
    |    Side: Two                                                                |
    |       Coupling Participant :                            Fluid Flow (Fluent) |
    |       Region List :                                          wall_deforming |
    |       Reference Frame :                                GlobalReferenceFrame |
    |    Data Transfer: Force                                                     |
    |       Suppress :                                                      False |
    |       Target Side :                                                     One |
    |       Source Variable :                                               force |
    |       Target Variable :                                               Force |
    |       Mapping Type :                                   Surface Conservative |
    |       Convergence Target :                                         1.00E-02 |
    |       Ramping Option :                                                 None |
    |       Relaxation Factor :                                          1.00E+00 |
    |    Data Transfer: displacement                                              |
    |       Suppress :                                                      False |
    |       Target Side :                                                     Two |
    |       Source Variable :                            Incremental_Displacement |
    |       Target Variable :                                        displacement |
    |       Unmapped Value Option :                                 Nearest Value |
    |       Mapping Type :                             Surface Profile Preserving |
    |       Convergence Target :                                         1.00E-02 |
    |       Ramping Option :                                                 None |
    |       Relaxation Factor :                                          1.00E+00 |
    |    Mapping Control:                                                         |
    |       Absolute Gap Tolerance :                                      0.0 [m] |
    |       Face Alignment :                                    ProgramControlled |
    |       Poor Intersection Threshold :                                5.00e-01 |
    |       Relative Gap Tolerance :                                     1.00e+00 |
    |       Stop If Poor Intersection :                                      True |
    |                                                                             |
    +=============================================================================+
    |                              Solution Control                               |
    +=============================================================================+
    |                                                                             |
    | Duration Option :                                                   EndTime |
    | End Time :                                                          1.0 [s] |
    | Maximum Iterations :                                                      5 |
    | Minimum Iterations :                                                      1 |
    | Time Step Size :                                                    0.1 [s] |
    |                                                                             |
    +=============================================================================+
    |                               Output Control                                |
    +=============================================================================+
    |                                                                             |
    | Output Control Option :                                        StepInterval |
    |    Frequency :                                                            2 |
    | Results                                                                     |
    |    IncludeInstances :                                     ProgramControlled |
    |    Option :                                               ProgramControlled |
    |    Type                                                                     |
    |       Option :                                                  EnsightGold |
    | Write Initial Snapshot :                                               True |
    |                                                                             |
    +=============================================================================+






.. GENERATED FROM PYTHON SOURCE LINES 264-268

Run solution
------------

Access `solve` via the `solution` API.

.. GENERATED FROM PYTHON SOURCE LINES 268-271

.. code-block:: default

    solution = syc.solution
    solution.solve()








.. GENERATED FROM PYTHON SOURCE LINES 272-278

Extend analysis end time for a restarted run
--------------------------------------------

Access the `case` API for file handling and persistence.
Use this to completely clear the current case and reload
from the case saved during the solve.

.. GENERATED FROM PYTHON SOURCE LINES 278-283

.. code-block:: default

    case = syc.case
    case.clear_state()
    case.open()









.. GENERATED FROM PYTHON SOURCE LINES 284-289

Extend analysis
~~~~~~~~~~~~~~~

View `solution_control`, change `end-time` and verify setting.
The analysis is extended to 1.5 seconds.

.. GENERATED FROM PYTHON SOURCE LINES 289-293

.. code-block:: default

    setup.solution_control.print_state()
    setup.solution_control.end_time = "1.5 [s]"
    setup.solution_control.print_state()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    minimum_iterations : 1
    maximum_iterations : 5
    duration_option : EndTime
    end_time : 1.0 [s]
    time_step_size : 0.1 [s]

    time_step_size : 0.1 [s]
    minimum_iterations : 1
    maximum_iterations : 5
    duration_option : EndTime
    end_time : 1.5 [s]




.. GENERATED FROM PYTHON SOURCE LINES 294-298

Additional settings changes
~~~~~~~~~~~~~~~~~~~~~~~~~~~

Examine "Force" data transfer.

.. GENERATED FROM PYTHON SOURCE LINES 298-303

.. code-block:: default

    force_transfer = setup.coupling_interface[interface_name].data_transfer[
        force_transfer_name
    ]
    force_transfer.print_state()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none


    mapping_type : Conservative
    relaxation_factor : 1.0
    source_variable : force
    suppress : False
    convergence_target : 0.01
    ramping_option : None
    display_name : Force
    target_side : One
    option : UsingVariable
    target_variable : FORC




.. GENERATED FROM PYTHON SOURCE LINES 304-306

Change `convergence_target` and `ramping_option` of "Force" data
transfer, and set minimum iterations value.

.. GENERATED FROM PYTHON SOURCE LINES 306-311

.. code-block:: default

    force_transfer.convergence_target = 0.001
    force_transfer.ramping_option = "Linear"

    setup.solution_control.minimum_iterations = 2








.. GENERATED FROM PYTHON SOURCE LINES 312-314

Review setup
~~~~~~~~~~~~

.. GENERATED FROM PYTHON SOURCE LINES 314-316

.. code-block:: default

    print(setup.get_setup_summary())





.. rst-class:: sphx-glr-script-out

 .. code-block:: none



    ===============================================================================
    +=============================================================================+
    |                                                                             |
    |                          Summary of Coupling Setup                          |
    |                                                                             |
    +=============================================================================+
    ===============================================================================

    +=============================================================================+
    |                          Coupling Participants (2)                          |
    +=============================================================================+
    |                                                                             |
    | Participant: Fluid Flow (Fluent)                                            |
    |    Type :                                                            FLUENT |
    |    UpdateControls:                                                          |
    |       Option :                                            ProgramControlled |
    |    Region: part-fluid                                                       |
    |       Topology :                                                     Volume |
    |    Region: wall_bottom                                                      |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Region: wall_deforming                                                   |
    |       Topology :                                                    Surface |
    |       Input Variables :                                        displacement |
    |       Output Variables :                                              force |
    |    Region: wall_inlet                                                       |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Region: wall_outlet                                                      |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Region: wall_top                                                         |
    |       Topology :                                                    Surface |
    |       Output Variables :                                              force |
    |    Variable: displacement                                                   |
    |       Quantity Type :                              Incremental Displacement |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                  False |
    |       Data Type :                                                      Real |
    |    Variable: force                                                          |
    |       Quantity Type :                                                 Force |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                   True |
    |       Data Type :                                                      Real |
    |                                                                             |
    +-----------------------------------------------------------------------------+
    |                                                                             |
    | Participant: MAPDL Transient                                                |
    |    Type :                                                             MAPDL |
    |    UpdateControls:                                                          |
    |       Option :                                            ProgramControlled |
    |    Region: FSIN_1_Fluid Solid Interface                                     |
    |       Topology :                                                    Surface |
    |       Input Variables :                                               Force |
    |       Output Variables :                           Incremental_Displacement |
    |    Variable: Force                                                          |
    |       Quantity Type :                                                 Force |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                   True |
    |       Data Type :                                                      Real |
    |    Variable: Incremental_Displacement                                       |
    |       Quantity Type :                              Incremental Displacement |
    |       Location :                                                       Node |
    |       Tensor Type :                                                  Vector |
    |       Is Extensive :                                                  False |
    |       Data Type :                                                      Real |
    |                                                                             |
    +=============================================================================+
    |                              Analysis Control                               |
    +=============================================================================+
    |                                                                             |
    | Analysis Type :                                                   Transient |
    | Global Stabilization :                                                 None |
    | OptimizeIfOneWay :                                                     True |
    | AllowSimultaneousUpdate :                                             False |
    | PartitioningAlgorithm :                              SharedAllocateMachines |
    |                                                                             |
    +=============================================================================+
    |                           Coupling Interfaces (1)                           |
    +=============================================================================+
    |                                                                             |
    | Interface: interface-1                                                      |
    |    Side: One                                                                |
    |       Coupling Participant :                                MAPDL Transient |
    |       Region List :                            FSIN_1_Fluid Solid Interface |
    |       Reference Frame :                                GlobalReferenceFrame |
    |    Side: Two                                                                |
    |       Coupling Participant :                            Fluid Flow (Fluent) |
    |       Region List :                                          wall_deforming |
    |       Reference Frame :                                GlobalReferenceFrame |
    |    Data Transfer: Force                                                     |
    |       Suppress :                                                      False |
    |       Target Side :                                                     One |
    |       Source Variable :                                               force |
    |       Target Variable :                                               Force |
    |       Mapping Type :                                   Surface Conservative |
    |       Convergence Target :                                         1.00E-03 |
    |       Ramping Option :                                               Linear |
    |       Relaxation Factor :                                          1.00E+00 |
    |    Data Transfer: displacement                                              |
    |       Suppress :                                                      False |
    |       Target Side :                                                     Two |
    |       Source Variable :                            Incremental_Displacement |
    |       Target Variable :                                        displacement |
    |       Unmapped Value Option :                                 Nearest Value |
    |       Mapping Type :                             Surface Profile Preserving |
    |       Convergence Target :                                         1.00E-02 |
    |       Ramping Option :                                                 None |
    |       Relaxation Factor :                                          1.00E+00 |
    |    Mapping Control:                                                         |
    |       Absolute Gap Tolerance :                                      0.0 [m] |
    |       Face Alignment :                                    ProgramControlled |
    |       Poor Intersection Threshold :                                5.00e-01 |
    |       Relative Gap Tolerance :                                     1.00e+00 |
    |       Stop If Poor Intersection :                                      True |
    |                                                                             |
    +=============================================================================+
    |                              Solution Control                               |
    +=============================================================================+
    |                                                                             |
    | Duration Option :                                                   EndTime |
    | End Time :                                                          1.5 [s] |
    | Maximum Iterations :                                                      5 |
    | Minimum Iterations :                                                      2 |
    | Time Step Size :                                                    0.1 [s] |
    |                                                                             |
    +=============================================================================+
    |                               Output Control                                |
    +=============================================================================+
    |                                                                             |
    | Output Control Option :                                        StepInterval |
    |    Frequency :                                                            2 |
    | Results                                                                     |
    |    IncludeInstances :                                     ProgramControlled |
    |    Option :                                               ProgramControlled |
    |    Type                                                                     |
    |       Option :                                                  EnsightGold |
    | Write Initial Snapshot :                                               True |
    |                                                                             |
    +=============================================================================+






.. GENERATED FROM PYTHON SOURCE LINES 317-319

Restart solution
----------------

.. GENERATED FROM PYTHON SOURCE LINES 319-321

.. code-block:: default

    solution.solve()








.. GENERATED FROM PYTHON SOURCE LINES 322-323

Stop streaming output from server and shut down this server instance:

.. GENERATED FROM PYTHON SOURCE LINES 323-326

.. code-block:: default

    syc.end_output()
    syc.exit()








.. GENERATED FROM PYTHON SOURCE LINES 327-332

.. note::
   This `syc` object is now "defunct" and any attempt to
   use it to perform any further actions will yield an error. To do
   more in the current Python session, create a new syc instance
   using ``syc = pysystemcoupling.launch()`` again.)


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 2 minutes  36.561 seconds)


.. _sphx_glr_download_examples_00-systemcoupling_oscillating_plate.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example


    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: oscillating_plate.py <oscillating_plate.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: oscillating_plate.ipynb <oscillating_plate.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
